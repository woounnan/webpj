{"remainingRequest":"/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue?vue&type=style&index=0&id=e1a853ce&lang=scss&scoped=true&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue","mtime":1568815450851},{"path":"/work/webpj/front/node_modules/css-loader/index.js","mtime":1567249389441},{"path":"/work/webpj/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1567249389844},{"path":"/work/webpj/front/node_modules/postcss-loader/src/index.js","mtime":1567249389757},{"path":"/work/webpj/front/node_modules/sass-loader/dist/cjs.js","mtime":1568530397356},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1567249389119},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1567249389844}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.visible {\n  display: none;\n}\n",{"version":3,"sources":["InputContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA","file":"InputContainer.vue","sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat/input","sourcesContent":["<template>\n  <div class=\"input__container\">\n    <img\n      v-show=\"file\"\n      :src=\"imagePreview\"\n      class=\"image--uploaded\">\n    <slot name=\"input-field\">\n      <input-field\n        v-model=\"message\"\n        @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n    <div class=\"features__container\">\n      <div class=\"input-images-upload\">\n        <div\n          id=\"image\"\n          ref=\"image\"\n          type=\"file\"\n          class=\"image\"\n          accept=\"image/*\"\n          @change=\"handleFileUpload()\">\n          <label for=\"image\">\n            <font-awesome-icon icon=\"paperclip\" />\n          </label>\n        </div>\n      </div>\n      <div class=\"input-images-upload input-emoji-picker__icon\">\n        <div\n          id=\"emoji\"\n          @click=\"openEmojiPicker\">\n          <label for=\"emoji\">\n            <font-awesome-icon icon=\"smile\" />\n          </label>\n        </div>\n      </div>\n      <div\n        :class=\"{ visible: !toggleEmojiPicker }\"\n        class=\"input-emoji-picker__container\">\n        <picker\n          :show-preview=\"false\"\n          :show-skin-tones=\"false\"\n          :show-categories=\"false\"\n          :show-search=\"false\"\n          native\n          @select=\"emojiPicked\" />\n      </div>\n      <slot name=\"features\" />\n    </div>\n    <v-file-input\n    v-model=\"files\"\n    color=\"deep-purple accent-4\"\n    counter\n    label=\"File input\"\n    multiple\n    placeholder=\"Select your files\"\n    prepend-icon=\"mdi-paperclip\"\n    outlined\n    :show-size=\"1000\"\n  >\n    <template v-slot:selection=\"{ index, text }\">\n      <v-chip\n        v-if=\"index < 2\"\n        color=\"deep-purple accent-4\"\n        dark\n        label\n        small\n      >\n        {{ text }}\n      </v-chip>\n\n      <span\n        v-else-if=\"index === 2\"\n        class=\"overline grey--text text--darken-3 mx-2\"\n      >\n        +{{ files.length - 2 }} File(s)\n      </span>\n    </template>\n  </v-file-input>\n    <slot name=\"input-button\">\n      <input-button @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport InputField from './InputField.vue'\nimport InputButton from './InputButton.vue'\nimport { Picker } from 'emoji-mart-vue'\n\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField,\n    InputButton,\n    Picker\n  },\n  props: {\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  data: function () {\n    return {\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    }\n  },\n  methods: {\n    onNewOwnMessage () {\n      if ((!this.message || this.message === '') && !this.file) {\n        return\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview)\n\n      this.message = ''\n\n      this.file = undefined\n\n      this.imagePreview = ''\n    },\n    handleFileUpload () {\n      this.file = this.$refs.image.files[0]\n      let reader = new FileReader()\n\n      reader.addEventListener(\n        'load',\n        function () {\n          this.imagePreview = reader.result\n        }.bind(this),\n        false\n      )\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n    openEmojiPicker () {\n      this.$emit('openEmojiPicker', true)\n    },\n    emojiPicked (emoji) {\n      this.message += emoji.native\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.visible {\n  display: none;\n}\n</style>\n"]}]}