{"remainingRequest":"/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/src/views/enroll/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/src/views/enroll/Register.vue","mtime":1585582185032},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585583105036},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1585458647532},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585583105036},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1585458650273}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nimport axios from 'axios'\nexport default {\n  /*props: [\n    'bus'\n  ],*/\n  data () {\n    return {\n      v_companys : {},\n      v_searchCp : {\n        cps: [],\n        state: false\n      },\n      v_divs : {},\n      v_user : { \n      id : '',\n      pw : '',\n      pos : '',\n      cp : '',\n      div: '',\n      },\n      divMenu: undefined\n    }\n  },\n  mounted: function () {\n    this.v_companys = this.$store.getters.getCompanys\n  },\n  methods : {\n    sub(){\n      var ret = 0\n      console.log('call the sub function');\n      axios.post(`http://webhacker.xyz:8000/apis/db/addUser`, this.v_user)\n      .then(r => {\n        ret = r.data.code\n        //this.bus.$emit('exit', ret)\n        this.$store.state.bus.$emit('exit', ret)\n      })\n      .catch(e => console.error('Register.vue::::',e))\n      \n      this.closeWindow();\n    },\n    closeWindow(){\n      console.log('call the closeWindow function');\n      this.$emit('close')\n    },\n    searchCp(){\n      this.v_searchCp.cps = []\n      console.log('call SearchCp,')\n      var len = Object.keys(this.v_companys).length\n      for(var i=0; i<len; i++){\n        if( (this.v_companys[i].name.includes(this.v_user.cp))/* && (this.v_user.cp.length) > 0*/){\n          this.v_searchCp.cps.push(this.v_companys[i])\n          this.v_searchCp.state = true\n        }\n      }\n    },\n    getCp(name){\n      this.v_searchCp.cps = []\n      this.v_user.cp = name\n      for(var i=0; i<Object.keys(this.v_companys).length; i++){\n        var x = this.v_companys[i]\n        if(x.name == name)\n          this.v_divs = x.division\n      }\n    },\n    getDiv(name){\n      this.v_user.div = name\n    },\n  },\n  created () {\n  }\n}\n",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views/enroll","sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-col cols=\"12\" sm=\"8\">\n      <v-card>\n        <v-card-title class=\"cyan darken-1\">\n          <span class=\"headline white--text\">사용자 정보 등록</span>\n\n          <div class=\"flex-grow-1\"></div>\n          <v-btn dark icon @click=\"sub\">\n            <v-icon>check</v-icon>\n          </v-btn>\n\n          <v-btn dark icon @click=\"closeWindow\">\n            <v-icon>cancel</v-icon>\n          </v-btn>\n        </v-card-title>\n\n        <v-list>\n          <v-list-item @click=\"\">\n\n            <v-list-item-action>\n              <v-icon>face</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n              <v-text-field\n                    v-model=\"v_user.id\"\n                    type=\"text\"\n                    placeholder=\"아이디 입력\"\n                  ></v-text-field>\n            </v-list-item-content>\n          </v-list-item>\n\n          <v-divider inset></v-divider>\n\n          <v-list-item @click=\"\">\n            <v-list-item-action>\n              <v-icon>lock</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n              <v-text-field \n                placeholder=\"패스워드 입력\"\n                v-model=\"v_user.pw\"\n                type=\"password\"\n              ></v-text-field>\n            </v-list-item-content>\n          </v-list-item>\n\n\n          <v-divider inset></v-divider>\n\n          <v-list-item @click=\"\">\n            <v-list-item-action>\n              <v-icon>mdi-map-marker</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n              <v-text-field \n                placeholder=\"소속 검색\"\n                v-model=\"v_user.cp\"\n                type=\"text\"\n                v-on:keyup=\"searchCp\"\n              ></v-text-field>\n            </v-list-item-content>\n          </v-list-item>\n             <!--show list result for searching -->\n        <v-list-item @click=\"\" v-if=\"v_searchCp.state\" v-for=\"(cp) in v_searchCp.cps\">\n          <v-list-item-action>\n            <v-icon>search</v-icon>\n          </v-list-item-action>\n          <v-list-item-content>\n            <v-list-item-title @click=\"getCp(cp.name)\" v-bind:style=\"{color: 'gray'}\">{{cp.name}}</v-list-item-title>\n          </v-list-item-content>\n        </v-list-item>\n        <!-- -->\n          <v-divider inset></v-divider>            \n          <v-list-item @click=\"\">\n            <v-list-item-action>\n              <v-icon>person</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n                <v-text-field \n                placeholder=\"직책 입력\"\n                v-model=\"v_user.pos\"\n                type=\"text\"\n              ></v-text-field>\n            </v-list-item-content>\n            </v-list-item>\n\n\n            <v-list-item @click=\"\">\n              <v-list-item-action>\n                <v-icon>people</v-icon>\n              </v-list-item-action>\n              <v-menu\n                v-model=\"divMenu\"\n                absolute\n                offset-y\n              >\n        <template v-slot:activator=\"{ on }\">\n              <v-list-item-content>\n                <v-text-field \n                  placeholder=\"부서 검색\"\n                  v-model=\"v_user.div\"\n                  type=\"text\"\n                  v-on=\"on\"\n                ></v-text-field>\n              </v-list-item-content>\n                      </template>\n                              <v-list-item v-for=\"(div) in v_divs\">\n\n            <v-list-item-content>\n              <v-list-item-title @click=\"getDiv(div)\" v-bind:style=\"{color: 'gray'}\">{{div}}</v-list-item-title>\n            </v-list-item-content>\n        </v-list-item>\n      </v-menu>\n          </v-list-item>\n        </v-list>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport axios from 'axios'\nexport default {\n  /*props: [\n    'bus'\n  ],*/\n  data () {\n    return {\n      v_companys : {},\n      v_searchCp : {\n        cps: [],\n        state: false\n      },\n      v_divs : {},\n      v_user : { \n      id : '',\n      pw : '',\n      pos : '',\n      cp : '',\n      div: '',\n      },\n      divMenu: undefined\n    }\n  },\n  mounted: function () {\n    this.v_companys = this.$store.getters.getCompanys\n  },\n  methods : {\n    sub(){\n      var ret = 0\n      console.log('call the sub function');\n      axios.post(`http://webhacker.xyz:8000/apis/db/addUser`, this.v_user)\n      .then(r => {\n        ret = r.data.code\n        //this.bus.$emit('exit', ret)\n        this.$store.state.bus.$emit('exit', ret)\n      })\n      .catch(e => console.error('Register.vue::::',e))\n      \n      this.closeWindow();\n    },\n    closeWindow(){\n      console.log('call the closeWindow function');\n      this.$emit('close')\n    },\n    searchCp(){\n      this.v_searchCp.cps = []\n      console.log('call SearchCp,')\n      var len = Object.keys(this.v_companys).length\n      for(var i=0; i<len; i++){\n        if( (this.v_companys[i].name.includes(this.v_user.cp))/* && (this.v_user.cp.length) > 0*/){\n          this.v_searchCp.cps.push(this.v_companys[i])\n          this.v_searchCp.state = true\n        }\n      }\n    },\n    getCp(name){\n      this.v_searchCp.cps = []\n      this.v_user.cp = name\n      for(var i=0; i<Object.keys(this.v_companys).length; i++){\n        var x = this.v_companys[i]\n        if(x.name == name)\n          this.v_divs = x.division\n      }\n    },\n    getDiv(name){\n      this.v_user.div = name\n    },\n  },\n  created () {\n  }\n}\n</script>"]}]}