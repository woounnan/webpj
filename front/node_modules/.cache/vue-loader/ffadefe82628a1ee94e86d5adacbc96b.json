{"remainingRequest":"/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/messages/ViewWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/messages/ViewWork.vue","mtime":1585582181076},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1585582181044},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1585582184324}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n  props:{\n    idx_sep: 0,\n    period: '',\n  },\n  data(){\n    return {\n      inset: true,\n      /*\n      items: [\n      { header: '대상' },\n      {\n        avatar: 'https://cdn.vuetifyjs.com/images/lists/1.jpg',\n        title: 'Brunch this weekend?',\n        subtitle: \"<span class='text--primary'>Ali Connors</span> &mdash; I'll be in your neighborhood doing errands this weekend. Do you want to hang out?\",\n      },\n      ],\n      */\n      upFiles: [],\n      reject: false,\n    }  \n  },\n  mounted(){\n\n  },\n  methods: {\n    closeWindow(){\n      console.log('call closeWindow in ViewWork.vue::::', this.idx_sep)\n      this.$store.state.bus.$emit('closeViewWork', this.idx_sep)\n    },\n    sendWorkToS(item, state){\n      console.log('call sendWorkToS::::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\n\n      //update mine\n      item.state = state\n      this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works.state_c = state\n      this.$store.state.bus.$emit('sendWork', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\n    },\n    showDate(){\n      console.log('date ::::', this.period)\n    },\n    showState(item){\n      console.log('showState - item :::', item)\n      console.log('showState - convs :::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs)\n    },\n  },\n}\n",{"version":3,"sources":["ViewWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewWork.vue","sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat/messages","sourcesContent":["\n<template>\n  <v-row>\n    <v-col cols=\"12\" sm=\"8\">\n      <v-card>\n        <v-card-title class=\"cyan darken-1\">\n\n            <span class=\"headline white--text\">상세 보기</span>\n\n\n          \n            <div class=\"flex-grow-1\"></div>\n            <div v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.by != $store.getters.getUser.id\">\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '미제출'\" depressed large color=\"error\">미제출</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인대기'\" depressed large color=\"primary\">승인대기</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인거절'\" depressed large color=\"orange darken-3 white--text\">승인거절</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인완료'\" depressed large color=\"green darken-1 white--text\">승인완료</v-btn>\n            </div>\n            <div v-else>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '미제출'\" depressed large color=\"error\">미제출</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인대기'\" depressed large color=\"primary\">승인대기</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인거절'\" depressed large color=\"orange darken-3 white--text\">승인거절</v-btn>\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인완료'\" depressed large color=\"green darken-1 white--text\">승인완료</v-btn>\n            </div>\n\n          <v-btn dark icon @click=\"closeWindow\">\n            <v-icon>cancel</v-icon>\n          </v-btn>\n        </v-card-title>\n\n        <v-list>\n          <v-list-item>\n            <v-list-item-action>\n              <v-icon>title</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n              <v-text-field \n                readonly\n                v-model=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.title\"\n                type=\"text\"\n              ></v-text-field>\n            </v-list-item-content>\n          </v-list-item>\n          <v-divider inset></v-divider>            \n          <v-list-item>\n            <v-list-item-action>\n              <v-icon>text_fields</v-icon>\n            </v-list-item-action>\n\n            <v-list-item-content>\n              <v-textarea \n                v-model=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.contents\"\n                counter\n                single-line\n                type=\"text\"\n                readonly\n              />\n            </v-list-item-content>\n          </v-list-item>\n          <v-divider inset></v-divider>            \n          <v-list-item>\n            <v-row >\n              <v-col cols=\"1\">\n            <v-list-item-action>\n              <v-icon>date_range</v-icon>\n            </v-list-item-action>\n          </v-col>\n                <v-col cols=\"5\">\n                <v-text-field\n                v-model=\"period\"\n                @click=\"showDate\"\n                readonly\n              />\n            </v-col>\n            <v-col cols=\"1\">\n            <v-list-item-action \n              @click=\"\"\n            >\n              <v-icon>system_update_alt</v-icon>\n            </v-list-item-action>\n          </v-col>\n            <v-col cols=\"5\">\n              <v-list-item-content>\n                <v-chip\n                v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.flag_upload\"\n                color=\"deep-purple\"\n                text-color=\"white\"\n                width=\"5px\"\n              >\n              {{$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.file_s_real}}\n            </v-chip>\n          </v-list-item-content>\n            </v-col>\n            </v-row>\n\n          </v-list-item>\n          <v-divider inset></v-divider>\n        <v-list three-line\n          class=\"overflow-y-auto\"  \n          style=\"max-height: 200px\" \n        >\n          <!-- 요청 작업이면 -->\n        <template v-for=\"(item, index) in $store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].to\">\n            <v-subheader\n            >대상</v-subheader>\n\n            <v-divider\n              :key=\"index\"\n              :inset=\"inset\"\n            ></v-divider>\n\n            <v-list-item\n              :key=\"item.position\"\n            >\n                <v-list-item-avatar  @click=\"showState(item)\">\n                <v-img :src=\"item.avatar\"></v-img>\n                </v-list-item-avatar>\n\n                <v-list-item-content>\n                <v-list-item-title v-html=\"item.position\"></v-list-item-title>\n                <!--\n                <v-list-item-subtitle v-html=\"item.subtitle\"></v-list-item-subtitle>\n                -->\n                </v-list-item-content>\n\n                <template v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.by === $store.getters.getUser.id\">\n                  <v-list-item-content @click=\"showState(item)\">\n                    <v-btn v-if=\"item.state === '미제출'\" depressed small color=\"error\">미제출</v-btn>\n                    <v-btn v-if=\"item.state === '승인대기'\" depressed small color=\"primary\">승인대기</v-btn>\n                    <v-btn v-if=\"item.state === '승인거절'\" depressed small color=\"orange darken-3 white--text\">승인거절</v-btn>\n                    <v-btn v-if=\"item.state === '승인완료'\" depressed small color=\"green darken-1 white--text\">승인완료</v-btn>\n                 </v-list-item-content>\n                  <v-list-item-content>\n                      <v-icon :color=\"item.flag_upload ? 'deep-purple accent-4' : 'grey'\">insert_drive_file</v-icon>\n                  </v-list-item-content>\n                  <v-list-item-content>\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\n                  </v-list-item-content>\n                    <div v-if=\"item.state === '승인대기'\">\n                        <v-btn class=\"mx-2\" fab dark small color=\"indigo\" @click=\"sendWorkToS(item, '승인완료')\">\n                          <v-icon dark>done</v-icon>\n                        </v-btn>\n\n                        <v-dialog v-model=\"reject\" scrollable max-width=\"300px\">\n                          <template v-slot:activator=\"{ on:rej }\">\n                            <v-btn class=\"mx-2\" fab dark small color=\"pink\" v-on=\"rej\" @click=\"sendWorkToS(item, '승인거절')\">\n                              <v-icon dark>close</v-icon>\n                            </v-btn>\n                          </template>\n                          <v-card>\n                            <v-card-title>거절 사유를 입력하세요.</v-card-title>\n                            <v-divider></v-divider>\n                                <v-textarea \n                                    placeholder=\"내용 입력\"\n                                    v-model=\"item.comment\"\n                                    counter\n                                    maxlength=\"120\"\n                                    full-width\n                                    single-line\n                                    type=\"text\"\n                                />\n                            <v-divider></v-divider>\n                            <v-card-actions>\n                              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">취소</v-btn>\n                              <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">확인</v-btn>\n                            </v-card-actions>\n                          </v-card>\n                        </v-dialog>\n                   </div>\n                </template>\n                <template v-else>\n                  <!-- 미제출시 -->\n                  <div v-if=\"item.state==='미제출'\">\n                    <v-list-item-content>\n                      <v-file-input\n                        v-model=\"upFiles\"\n                        id=\"bin\"\n                        color=\"deep-purple accent-4\"\n                        counter\n                        label=\"File input\"\n                        multiple\n                        placeholder=\"Select your files\"\n                        outlined\n                        :show-size=\"1000\"\n                      >\n                        <template v-slot:selection=\"{ index, text }\">\n                          <v-chip\n                          v-if=\"index < 2\"\n                          color=\"deep-purple accent-4\"\n                          dark\n                          label\n                          small\n                          >\n                          {{ text }}\n                          </v-chip>\n                        </template>\n                      </v-file-input>\n                    </v-list-item-content>\n                    <v-list-item-content>\n                        <div class=\"flex-grow-1\"></div>\n                          <v-btn @click=\"sendWorkToS(item, '승인대기')\" depressed large color=\"cyan darken-4 white--text\">제출하기</v-btn>\n                        \n                    </v-list-item-content>\n                  <v-list-item-content>\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\n                  </v-list-item-content>\n                  </div>\n                  <div v-else>\n                    <v-list-item-content>\n                        <v-icon :color=\"item.flag_upload ? 'deep-purple accent-4' : 'grey'\">insert_drive_file</v-icon>\n                    </v-list-item-content> \n                    <v-list-item-content>\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\n                    </v-list-item-content>                                       \n                  </div>\n                    <v-list-item-content v-if=\"item.state==='승인거절'\">\n                      <v-icon v-on=\"showComment\" :color=\"item.comment ? 'deep-purple accent-4' : 'grey'\">chat_bubble</v-icon>\n                    </v-list-item-content>              \n                               \n                </template>\n          </v-list-item>\n        </template>\n      \n    </v-list>              \n        </v-list>\n      </v-card>\n    </v-col>\n  </v-row>\n</template>\n<script>\n  export default{\n    props:{\n      idx_sep: 0,\n      period: '',\n    },\n    data(){\n      return {\n        inset: true,\n        /*\n        items: [\n        { header: '대상' },\n        {\n          avatar: 'https://cdn.vuetifyjs.com/images/lists/1.jpg',\n          title: 'Brunch this weekend?',\n          subtitle: \"<span class='text--primary'>Ali Connors</span> &mdash; I'll be in your neighborhood doing errands this weekend. Do you want to hang out?\",\n        },\n        ],\n        */\n        upFiles: [],\n        reject: false,\n      }  \n    },\n    mounted(){\n\n    },\n    methods: {\n      closeWindow(){\n        console.log('call closeWindow in ViewWork.vue::::', this.idx_sep)\n        this.$store.state.bus.$emit('closeViewWork', this.idx_sep)\n      },\n      sendWorkToS(item, state){\n        console.log('call sendWorkToS::::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\n\n        //update mine\n        item.state = state\n        this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works.state_c = state\n        this.$store.state.bus.$emit('sendWork', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\n      },\n      showDate(){\n        console.log('date ::::', this.period)\n      },\n      showState(item){\n        console.log('showState - item :::', item)\n        console.log('showState - convs :::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs)\n      },\n    },\n  }\n</script>\n"]}]}