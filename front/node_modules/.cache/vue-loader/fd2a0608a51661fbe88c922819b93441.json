{"remainingRequest":"/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/src/views/ViewWork.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/src/views/ViewWork.vue","mtime":1585582185032},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585583105036},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1585458647532},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585583105036},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1585458650273}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default{\n  props:{\n    idx_sep: 0,\n    period: '',\n  },\n  data(){\n    return {\n      inset: true,\n      /*\n      items: [\n      { header: '대상' },\n      {\n        avatar: 'https://cdn.vuetifyjs.com/images/lists/1.jpg',\n        title: 'Brunch this weekend?',\n        subtitle: \"<span class='text--primary'>Ali Connors</span> &mdash; I'll be in your neighborhood doing errands this weekend. Do you want to hang out?\",\n      },\n      ],\n      */\n      upFiles: [],\n      reject: false,\n      dialog: false,\n      comment: '',\n    }  \n  },\n  mounted(){\n\n  },\n  methods: {\n    closeWindow(){\n      console.log('call closeWindow in ViewWork.vue::::', this.idx_sep)\n      this.$store.state.bus.$emit('closeViewWork', this.idx_sep)\n    },\n    sendWorkToS(arr_dic){\n      console.log('call sendWorkToS::::', arr_dic)\n\n      //update mine\n      //item.state = state\n      arr_dic.forEach(x=>{\n        console.log('ViewWork ::: sendWorkTos ::: key :', x.key)\n        console.log('ViewWork ::: sendWorkTos ::: value :', x.value)\n        this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works[x.key] = x.value\n      })\n      \n      //this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works[key] = value\n      this.$store.state.bus.$emit('sendWork', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\n    },\n    showDate(){\n      console.log('date ::::', this.period)\n    },\n    showState(item){\n      console.log('showState - item :::', item)\n      console.log('showState - convs :::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs)\n    },\n    sendRej(){\n      this.reject = false\n      this.sendWorkToS([{key : 'state_c', value :'승인거절'}, {key : 'comment', value : this.comment}])\n    },\n  },\n}\n",{"version":3,"sources":["ViewWork.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewWork.vue","sourceRoot":"src/views","sourcesContent":["\r\n<template>\r\n  <div v-if=\"($store.state.user.works.toWork.length + $store.state.user.works.fromWork.length + $store.state.user.works.toNotice.length + $store.state.user.works.fromNotice.length) > 0\">\r\n  <v-row>\r\n    <v-col cols=\"12\" sm=\"8\">\r\n      <v-card>\r\n        <v-card-title class=\"cyan darken-1\">\r\n\r\n            <span class=\"headline white--text\">상세 보기</span>\r\n\r\n\r\n          \r\n            <div class=\"flex-grow-1\"></div>\r\n            <div v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.by != $store.getters.getUser.id\">\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '미제출'\" depressed large color=\"error\">미제출</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인대기'\" depressed large color=\"primary\">승인대기</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인거절'\" depressed large color=\"orange darken-3 white--text\">승인거절</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_c === '승인완료'\" depressed large color=\"green darken-1 white--text\">승인완료</v-btn>\r\n            </div>\r\n            <div v-else>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '미제출'\" depressed large color=\"error\">미제출</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인대기'\" depressed large color=\"primary\">승인대기</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인거절'\" depressed large color=\"orange darken-3 white--text\">승인거절</v-btn>\r\n              <v-btn v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.state_s === '승인완료'\" depressed large color=\"green darken-1 white--text\">승인완료</v-btn>\r\n            </div>\r\n\r\n          <v-btn dark icon @click=\"closeWindow\">\r\n            <v-icon>cancel</v-icon>\r\n          </v-btn>\r\n        </v-card-title>\r\n\r\n        <v-list>\r\n          <v-list-item>\r\n            <v-list-item-action>\r\n              <v-icon>title</v-icon>\r\n            </v-list-item-action>\r\n\r\n            <v-list-item-content>\r\n              <v-text-field \r\n                readonly\r\n                v-model=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.title\"\r\n                type=\"text\"\r\n              ></v-text-field>\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n          <v-divider inset></v-divider>            \r\n          <v-list-item>\r\n            <v-list-item-action>\r\n              <v-icon>text_fields</v-icon>\r\n            </v-list-item-action>\r\n\r\n            <v-list-item-content>\r\n              <v-textarea \r\n                v-model=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.contents\"\r\n                counter\r\n                single-line\r\n                type=\"text\"\r\n                readonly\r\n              />\r\n            </v-list-item-content>\r\n          </v-list-item>\r\n          <v-divider inset></v-divider>            \r\n          <v-list-item>\r\n            <v-row >\r\n              <v-col cols=\"1\">\r\n            <v-list-item-action>\r\n              <v-icon>date_range</v-icon>\r\n            </v-list-item-action>\r\n          </v-col>\r\n                <v-col cols=\"5\">\r\n                <v-text-field\r\n                v-model=\"period\"\r\n                @click=\"showDate\"\r\n                readonly\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"1\">\r\n            <v-list-item-action \r\n              @click=\"\"\r\n            >\r\n              <v-icon>system_update_alt</v-icon>\r\n            </v-list-item-action>\r\n          </v-col>\r\n            <v-col cols=\"5\">\r\n              <v-list-item-content>\r\n                <v-chip\r\n                v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.flag_upload\"\r\n                color=\"deep-purple\"\r\n                text-color=\"white\"\r\n                width=\"5px\"\r\n              >\r\n              {{$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.file_s_real}}\r\n            </v-chip>\r\n          </v-list-item-content>\r\n            </v-col>\r\n            </v-row>\r\n\r\n          </v-list-item>\r\n          <v-divider inset></v-divider>\r\n        <v-list three-line\r\n          class=\"overflow-y-auto\"  \r\n          style=\"max-height: 200px\" \r\n        >\r\n          <!-- 요청 작업이면 -->\r\n        <template v-for=\"(item, index) in $store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].to\">\r\n            <v-subheader\r\n            >대상</v-subheader>\r\n\r\n            <v-divider\r\n              :key=\"index\"\r\n              :inset=\"inset\"\r\n            ></v-divider>\r\n\r\n            <v-list-item\r\n              :key=\"item.position\"\r\n            >\r\n                <v-list-item-avatar  @click=\"showState(item)\">\r\n                <v-img :src=\"item.avatar\"></v-img>\r\n                </v-list-item-avatar>\r\n\r\n                <v-list-item-content>\r\n                <v-list-item-title v-html=\"item.position\"></v-list-item-title>\r\n                <!--\r\n                <v-list-item-subtitle v-html=\"item.subtitle\"></v-list-item-subtitle>\r\n                -->\r\n                </v-list-item-content>\r\n\r\n                <template v-if=\"$store.state.user.works[$store.state.p_work.idxSepKey][$store.state.p_work.idxWork].convs.works.by === $store.getters.getUser.id\">\r\n                  <v-list-item-content @click=\"showState(item)\">\r\n                    <v-btn v-if=\"item.state === '미제출'\" depressed small color=\"error\">미제출</v-btn>\r\n                    <v-btn v-if=\"item.state === '승인대기'\" depressed small color=\"primary\">승인대기</v-btn>\r\n                    <v-btn v-if=\"item.state === '승인거절'\" depressed small color=\"orange darken-3 white--text\">승인거절</v-btn>\r\n                    <v-btn v-if=\"item.state === '승인완료'\" depressed small color=\"green darken-1 white--text\">승인완료</v-btn>\r\n                 </v-list-item-content>\r\n                  <v-list-item-content>\r\n                      <v-icon :color=\"item.flag_upload ? 'deep-purple accent-4' : 'grey'\">insert_drive_file</v-icon>\r\n                  </v-list-item-content>\r\n                  <v-list-item-content>\r\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\r\n                  </v-list-item-content>\r\n                    <div v-if=\"item.state === '승인대기'\">\r\n                        <v-btn class=\"mx-2\" fab dark small color=\"indigo\" @click=\"sendWorkToS([{key : 'state_c', value :'승인완료'}])\">\r\n                          <v-icon dark>done</v-icon>\r\n                        </v-btn>\r\n\r\n                        <v-dialog v-model=\"reject\" scrollable max-width=\"300px\">\r\n                          <template v-slot:activator=\"{ on:rej }\">\r\n                            <v-btn class=\"mx-2\" fab dark small color=\"pink\" v-on=\"rej\" >\r\n                              <v-icon dark>close</v-icon>\r\n                            </v-btn>\r\n                          </template>\r\n                          <v-card>\r\n                            <v-card-title>거절 사유를 입력하세요.</v-card-title>\r\n                            <v-divider></v-divider>\r\n                                <v-textarea \r\n                                    placeholder=\"내용 입력\"\r\n                                    v-model=\"comment\"\r\n                                    counter\r\n                                    maxlength=\"80\"\r\n                                    full-width\r\n                                    single-line\r\n                                    type=\"text\"\r\n                                />\r\n                            <v-divider></v-divider>\r\n                            <v-card-actions>\r\n                              <v-btn color=\"blue darken-1\" text @click=\"reject = false\">취소</v-btn>\r\n                              <v-btn color=\"blue darken-1\" text @click=\"sendRej\">확인</v-btn>\r\n                            </v-card-actions>\r\n                          </v-card>\r\n                        </v-dialog>\r\n                   </div>\r\n                </template>\r\n                <template v-else>\r\n                  <!-- 미제출시 -->\r\n                  <div v-if=\"item.state==='미제출'\">\r\n                    <v-list-item-content>\r\n                      <v-file-input\r\n                        v-model=\"upFiles\"\r\n                        id=\"bin\"\r\n                        color=\"deep-purple accent-4\"\r\n                        counter\r\n                        label=\"File input\"\r\n                        multiple\r\n                        placeholder=\"Select your files\"\r\n                        outlined\r\n                        :show-size=\"1000\"\r\n                      >\r\n                        <template v-slot:selection=\"{ index, text }\">\r\n                          <v-chip\r\n                          v-if=\"index < 2\"\r\n                          color=\"deep-purple accent-4\"\r\n                          dark\r\n                          label\r\n                          small\r\n                          >\r\n                          {{ text }}\r\n                          </v-chip>\r\n                        </template>\r\n                      </v-file-input>\r\n                    </v-list-item-content>\r\n                    <v-list-item-content>\r\n                        <div class=\"flex-grow-1\"></div>\r\n                          <v-btn @click=\"sendWorkToS([{key: 'state_c', value :'승인대기'}])\" depressed large color=\"cyan darken-4 white--text\">제출하기</v-btn>\r\n                        \r\n                    </v-list-item-content>\r\n                  <v-list-item-content>\r\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\r\n                  </v-list-item-content>\r\n                  </div>\r\n                  <div v-else>\r\n                    <v-list-item-content>\r\n                        <v-icon :color=\"item.flag_upload ? 'deep-purple accent-4' : 'grey'\">insert_drive_file</v-icon>\r\n                    </v-list-item-content> \r\n                    <v-list-item-content>\r\n                      <v-list-item-subtitle >{{item.flag_sendDate}}</v-list-item-subtitle>\r\n                    </v-list-item-content>                                       \r\n                  </div>\r\n                    <v-list-item-content v-if=\"item.state==='승인거절'\">\r\n                      <v-icon v-on=\"showComment\" :color=\"item.comment ? 'deep-purple accent-4' : 'grey'\">chat_bubble</v-icon>\r\n                    </v-list-item-content>              \r\n                               \r\n                </template>\r\n          </v-list-item>\r\n        </template>\r\n      \r\n    </v-list>              \r\n        </v-list>\r\n      </v-card>\r\n    </v-col>\r\n  </v-row>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default{\r\n    props:{\r\n      idx_sep: 0,\r\n      period: '',\r\n    },\r\n    data(){\r\n      return {\r\n        inset: true,\r\n        /*\r\n        items: [\r\n        { header: '대상' },\r\n        {\r\n          avatar: 'https://cdn.vuetifyjs.com/images/lists/1.jpg',\r\n          title: 'Brunch this weekend?',\r\n          subtitle: \"<span class='text--primary'>Ali Connors</span> &mdash; I'll be in your neighborhood doing errands this weekend. Do you want to hang out?\",\r\n        },\r\n        ],\r\n        */\r\n        upFiles: [],\r\n        reject: false,\r\n        dialog: false,\r\n        comment: '',\r\n      }  \r\n    },\r\n    mounted(){\r\n\r\n    },\r\n    methods: {\r\n      closeWindow(){\r\n        console.log('call closeWindow in ViewWork.vue::::', this.idx_sep)\r\n        this.$store.state.bus.$emit('closeViewWork', this.idx_sep)\r\n      },\r\n      sendWorkToS(arr_dic){\r\n        console.log('call sendWorkToS::::', arr_dic)\r\n\r\n        //update mine\r\n        //item.state = state\r\n        arr_dic.forEach(x=>{\r\n          console.log('ViewWork ::: sendWorkTos ::: key :', x.key)\r\n          console.log('ViewWork ::: sendWorkTos ::: value :', x.value)\r\n          this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works[x.key] = x.value\r\n        })\r\n        \r\n        //this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs.works[key] = value\r\n        this.$store.state.bus.$emit('sendWork', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork])\r\n      },\r\n      showDate(){\r\n        console.log('date ::::', this.period)\r\n      },\r\n      showState(item){\r\n        console.log('showState - item :::', item)\r\n        console.log('showState - convs :::', this.$store.state.user.works[this.$store.state.p_work.idxSepKey][this.$store.state.p_work.idxWork].convs)\r\n      },\r\n      sendRej(){\r\n        this.reject = false\r\n        this.sendWorkToS([{key : 'state_c', value :'승인거절'}, {key : 'comment', value : this.comment}])\r\n      },\r\n    },\r\n  }\r\n</script>\r\n"]}]}