{"remainingRequest":"/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue","mtime":499162500000},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport InputField from './InputField.vue'\nimport InputButton from './InputButton.vue'\nimport { Picker } from 'emoji-mart-vue'\n\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField,\n    InputButton,\n    Picker\n  },\n  props: {\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  data: function () {\n    return {\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    }\n  },\n  methods: {\n    onNewOwnMessage () {\n      if ((!this.message || this.message === '') && !this.file) {\n        return\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview)\n\n      this.message = ''\n\n      this.file = undefined\n\n      this.imagePreview = ''\n    },\n    handleFileUpload () {\n      this.file = this.$refs.image.files[0]\n      let reader = new FileReader()\n\n      reader.addEventListener(\n        'load',\n        function () {\n          this.imagePreview = reader.result\n        }.bind(this),\n        false\n      )\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n    openEmojiPicker () {\n      this.$emit('openEmojiPicker', true)\n    },\n    emojiPicked (emoji) {\n      this.message += emoji.native\n    }\n  }\n}\n",{"version":3,"sources":["InputContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InputContainer.vue","sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat/input","sourcesContent":["<template>\n  <div class=\"input__container\">\n    <img\n      v-show=\"file\"\n      :src=\"imagePreview\"\n      class=\"image--uploaded\">\n    <slot name=\"input-field\">\n      <input-field\n        v-model=\"message\"\n        @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n    <div class=\"features__container\">\n      <div class=\"input-images-upload\">\n        <div\n          id=\"image\"\n          ref=\"image\"\n          type=\"file\"\n          class=\"image\"\n          accept=\"image/*\"\n          @change=\"handleFileUpload()\">\n          <label for=\"image\">\n            <font-awesome-icon icon=\"paperclip\" />\n          </label>\n        </div>\n      </div>\n      <div class=\"input-images-upload input-emoji-picker__icon\">\n        <div\n          id=\"emoji\"\n          @click=\"openEmojiPicker\">\n          <label for=\"emoji\">\n            <font-awesome-icon icon=\"smile\" />\n          </label>\n        </div>\n      </div>\n      <div\n        :class=\"{ visible: !toggleEmojiPicker }\"\n        class=\"input-emoji-picker__container\">\n        <picker\n          :show-preview=\"false\"\n          :show-skin-tones=\"false\"\n          :show-categories=\"false\"\n          :show-search=\"false\"\n          native\n          @select=\"emojiPicked\" />\n      </div>\n      <slot name=\"features\" />\n    </div>\n    <slot name=\"input-button\">\n      <input-button @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport InputField from './InputField.vue'\nimport InputButton from './InputButton.vue'\nimport { Picker } from 'emoji-mart-vue'\n\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField,\n    InputButton,\n    Picker\n  },\n  props: {\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  data: function () {\n    return {\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    }\n  },\n  methods: {\n    onNewOwnMessage () {\n      if ((!this.message || this.message === '') && !this.file) {\n        return\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview)\n\n      this.message = ''\n\n      this.file = undefined\n\n      this.imagePreview = ''\n    },\n    handleFileUpload () {\n      this.file = this.$refs.image.files[0]\n      let reader = new FileReader()\n\n      reader.addEventListener(\n        'load',\n        function () {\n          this.imagePreview = reader.result\n        }.bind(this),\n        false\n      )\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n    openEmojiPicker () {\n      this.$emit('openEmojiPicker', true)\n    },\n    emojiPicked (emoji) {\n      this.message += emoji.native\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.visible {\n  display: none;\n}\n</style>\n"]}]}