{"remainingRequest":"/work/webpj/front/node_modules/babel-loader/lib/index.js!/work/webpj/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/src/views/Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/src/views/Chat.vue","mtime":1585582185032},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1585582181044},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1585582184324}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport Chat from \"../../node_modules/basic-vue-chat/src/components/basic-vue-chat/BasicVueChat.vue\";\nimport Bar from \"./Bar.vue\";\nimport List from \"./List.vue\";\nimport Preview from \"./Preview.vue\";\nimport io from 'socket.io-client';\nexport default {\n  name: 'App',\n  components: {\n    Chat: Chat,\n    List: List,\n    Bar: Bar,\n    Preview: Preview\n  },\n  props: {},\n  data: function data() {\n    return {\n      message: {},\n      test: '',\n      layout: [['toolbar', 1, 1, 'list'], [0, 0, 0, 0]],\n      idx1: 1,\n      idx2: 0,\n      idx3: 3\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$store.commit('initSocks');\n    this.$store.commit('initWorks');\n    this.sendWork();\n    var eve = 'sock_initWorks';\n\n    if (this.$store.getters.getMountedCheck.indexOf(eve) == -1) {\n      this.$store.commit('pushMountedCheck', eve);\n      this.$store.state.socks.sock.on(eve, function () {\n        console.log('call sock_initWorks:::', _this.$store);\n\n        _this.$store.commit('initWorks');\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$store.commit(\"setToday\");\n    setInterval(function () {\n      _this2.$store.commit(\"setToday\");\n    }, 3600 * 1000);\n  },\n  methods: {\n    //첫 등록 이외의 모든 작업 socket 처리\n    sendWork: function sendWork() {\n      var _this3 = this;\n\n      var eve = 'sendWork';\n\n      if (this.$store.getters.getMountedCheck.indexOf(eve) == -1) {\n        this.$store.commit('pushMountedCheck', eve);\n        this.$store.state.bus.$on(eve, function (data) {\n          console.log('here is in sendWork::::', data);\n          data.convs.works.flag_date = data.convs.date;\n          data.convs.date = moment().format('HH:mm:ss');\n          data.convs.id = _this3.$store.getters.getUser.id;\n          data.convs.position = _this3.$store.getters.getUser.position;\n          data.convs.works.flag_sendDate = _this3.$store.getters.getToday;\n          data.to.forEach(function (x) {\n            console.log('::::', x);\n            var to = x.position;\n            var header = {\n              to: to,\n              from: _this3.$store.getters.getUser.position\n            };\n\n            _this3.$store.state.socks.sock.emit('msg', {\n              msg: data.convs,\n              header: header\n            });\n\n            console.log('이사람에게 보냈어::::', to);\n          });\n          setTimeout(function () {\n            _this3.$store.commit('initWorks');\n\n            _this3.$store.state.socks.sock.emit('sock_initWorks', {\n              id: _this3.$store.getters.getUser.id\n            });\n          }, 50);\n        });\n      }\n    },\n    showState: function showState() {\n      console.log(this.$store.state.user.works.fromWork);\n    }\n  }\n};",{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,IAAA;AACA,OAAA,GAAA;AACA,OAAA,IAAA;AACA,OAAA,OAAA;AACA,OAAA,EAAA,MAAA,kBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,IAAA,EAAA,IADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,GAAA,EAAA,GAHA;AAIA,IAAA,OAAA,EAAA;AAJA,GAFA;AAQA,EAAA,KAAA,EAAA,EARA;AAUA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,CACA,CAAA,SAAA,EAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CADA,EAEA,CAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAFA,CAHA;AAOA,MAAA,IAAA,EAAA,CAPA;AAQA,MAAA,IAAA,EAAA,CARA;AASA,MAAA,IAAA,EAAA;AATA,KAAA;AAWA,GAtBA;AAuBA,EAAA,OAvBA,qBAuBA;AAAA;;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,WAAA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,WAAA;AACA,SAAA,QAAA;AAEA,QAAA,GAAA,GAAA,gBAAA;;AAEA,QAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,GAAA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA,EAAA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,KAAA,CAAA,MAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA;AACA,OAHA;AAIA;AACA,GArCA;AAsCA,EAAA,OAtCA,qBAsCA;AAAA;;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,UAAA;AACA,IAAA,WAAA,CAAA,YAAA;AAAA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,UAAA;AAAA,KAAA,EAAA,OAAA,IAAA,CAAA;AACA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,QAFA,sBAEA;AAAA;;AACA,UAAA,GAAA,GAAA,UAAA;;AACA,UAAA,KAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,OAAA,CAAA,GAAA,KAAA,CAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,EAAA,GAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA,GAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,yBAAA,EAAA,IAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,IAAA,GAAA,MAAA,GAAA,MAAA,CAAA,UAAA,CAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,QAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,KAAA,CAAA,aAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,QAAA;AACA,UAAA,IAAA,CAAA,EAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AAEA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,CAAA;AACA,gBAAA,EAAA,GAAA,CAAA,CAAA,QAAA;AACA,gBAAA,MAAA,GAAA;AACA,cAAA,EAAA,EAAA,EADA;AAEA,cAAA,IAAA,EAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAFA,aAAA;;AAIA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AAAA,cAAA,GAAA,EAAA,IAAA,CAAA,KAAA;AAAA,cAAA,MAAA,EAAA;AAAA,aAAA;;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,EAAA;AACA,WAVA;AAWA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA;;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,cAAA,EAAA,EAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,aAAA;AACA,WAHA,EAGA,EAHA,CAAA;AAIA,SAtBA;AAuBA;AACA,KA9BA;AA+BA,IAAA,SA/BA,uBA+BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA;AACA;AAjCA;AA1CA,CAAA","sourcesContent":["<template>\n<v-container>\n\t<v-row \n\t\trow wrap\n\t>\n\t\t<v-col\n\t\t\tcols=\"9\">\n\t\t\t<v-container>\n\t\t<v-row row wrap>\n\t\t\t<v-col cols=\"6\">\n\t\t\t<Preview :goings=\"$store.state.user.works.fromWork\" :idx_sep=\"idx1\"/>\n\t\t\t\t\n\t\t\t</v-col>\n\t\t\t<v-col cols=\"6\">\n\t\t\t\t<Preview :goings=\"$store.state.user.works.toWork\" :idx_sep=\"idx2\"/>\n\t\t\t</v-col>\n\t\t\t<v-col cols=\"12\">\n\t\t\t\t<Preview :goings=\"$store.state.user.works.fromNotice\" :idx_sep=\"idx3\"/>\n\t\t\t</v-col>\n\t\t</v-row>\n\n\t</v-container>\n\t\t</v-col>\t\n\t\t<v-col \n\t\t\tcols=\"3\">\n\t\t\t<v-row row wrap>\n\t\t\t\t<List />\n\t\t\t</v-row>\n\t\t</v-col>\n\t</v-row>\n\t<v-row>\n\t\t<v-col align=\"end\" cols=\"12\">\n  \t\t\t<Bar />\n  \t\t</v-col>\n\t</v-row>\n</v-container>\n</template>\n<script>\nimport moment from 'moment'\nimport Chat from '../../node_modules/basic-vue-chat/src/components/basic-vue-chat/BasicVueChat.vue'\nimport Bar from './Bar.vue'\nimport List from './List.vue'\nimport Preview from './Preview.vue'\nimport io from 'socket.io-client'\nexport default{\n\tname: 'App',\n\tcomponents: {\n\t\tChat,\n\t\tList,\n\t\tBar,\n\t\tPreview\n\t},\n\tprops:{\n\t},\n\tdata: function (){\n\t\treturn {\n\t\t\tmessage: {},\n\t\t\ttest : '',\n\t\t\tlayout: [\n\t          ['toolbar', 1, 1, 'list'],\n\t          [0, 0, 0, 0],\n        \t],\n        \tidx1: 1,\n        \tidx2: 0,\n        \tidx3: 3,\n\t\t}\n\t},\n\tcreated(){\n   \t\tthis.$store.commit('initSocks')\n   \t\tthis.$store.commit('initWorks')\n   \t\tthis.sendWork()\n\n\t\tvar eve = 'sock_initWorks'\n\n\t\tif(this.$store.getters.getMountedCheck.indexOf(eve) == -1){\n\t\t\tthis.$store.commit('pushMountedCheck', eve)\n\t   \t\tthis.$store.state.socks.sock.on(eve, ()=>{\n\t   \t\t\tconsole.log('call sock_initWorks:::',this.$store)\n\t\t   \t\tthis.$store.commit('initWorks')\n\t   \t\t})\n   \t\t}\n\t},\n   \tmounted(){\n\t\tthis.$store.commit(\"setToday\")\n\t\tsetInterval(()=>{this.$store.commit(\"setToday\")},  3600 * 1000 )\n   \t},\n\tmethods: {\n\t\t//첫 등록 이외의 모든 작업 socket 처리\n\t\tsendWork(){\n\t\t\tvar eve = 'sendWork'\n\t\t\tif(this.$store.getters.getMountedCheck.indexOf(eve) == -1){\n\t\t\t\tthis.$store.commit('pushMountedCheck', eve)\n\t\t\t\tthis.$store.state.bus.$on(eve,  (data)=>{\n\t\t\t\t\tconsole.log('here is in sendWork::::', data)\n\t\t\t\t\tdata.convs.works.flag_date = data.convs.date\n\t\t\t\t\tdata.convs.date = moment().format('HH:mm:ss')\n\t\t\t\t\tdata.convs.id = this.$store.getters.getUser.id\n\t\t\t\t\tdata.convs.position = this.$store.getters.getUser.position\n\t\t\t\t\tdata.convs.works.flag_sendDate = this.$store.getters.getToday\n\t\t\t\t\tdata.to.forEach(x=>{\n\n\t\t\t\t\t\tconsole.log('::::', x)\n\t\t\t\t\t\tvar to = x.position\n\t\t\t\t\t\tconst header = {\n\t\t\t\t\t\tto : to,\n\t\t\t\t\t\tfrom : this.$store.getters.getUser.position\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$store.state.socks.sock.emit('msg', {msg: data.convs, header: header})\n\t\t\t\t\t\tconsole.log('이사람에게 보냈어::::', to)\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$store.commit('initWorks')\n\t\t\t\t\t\tthis.$store.state.socks.sock.emit('sock_initWorks', {id: this.$store.getters.getUser.id})\n\t\t\t\t\t}, 50)\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tshowState(){\n\t\t\tconsole.log(this.$store.state.user.works.fromWork)\n\t\t}\n\t}\n};\n</script>\n"],"sourceRoot":"src/views"}]}