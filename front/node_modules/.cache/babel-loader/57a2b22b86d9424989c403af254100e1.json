{"remainingRequest":"/work/webpj/front/node_modules/babel-loader/lib/index.js!/work/webpj/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/BasicVueChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/BasicVueChat.vue","mtime":499162500000},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport { scrollToBottom } from \"../../helpers/scroll.js\";\nimport MessagesList from \"./messages/MessagesList.vue\";\nimport InputContainer from \"./input/InputContainer.vue\";\nexport default {\n  name: 'BasicVueChat',\n  components: {\n    MessagesList: MessagesList,\n    InputContainer: InputContainer\n  },\n  props: {\n    title: {\n      type: String,\n      default: 'Team Maczan',\n      required: false\n    },\n    initialAuthorId: {\n      type: Number,\n      default: 0,\n      required: false\n    },\n    attachMock: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    initialFeed: {\n      type: Array,\n      default: function _default() {\n        return [];\n      },\n      required: false\n    },\n    newMessage: {\n      type: Object,\n      default: function _default() {\n        return {};\n      },\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      feed: [],\n      authorId: 0,\n      toggleEmojiPicker: false\n    };\n  },\n  watch: {\n    newMessage: function newMessage(newValue, oldValue) {\n      this.pushToFeed(newValue);\n      scrollToBottom();\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.attachMock) {\n      import(\"./mocks/mock-messages-list.js\").then(function (mockData) {\n        _this.feed = mockData.default.feed;\n\n        _this.setAuthorId(mockData.default.authorId);\n      }).catch(function (error) {\n        console.error('Failed to load mock data from file. ', error);\n      });\n    } else {\n      this.feed = this.initialFeed;\n      this.authorId = this.initialAuthorId;\n    }\n  },\n  methods: {\n    setEmojiPickerToggle: function setEmojiPickerToggle(toggle) {\n      this.toggleEmojiPicker = toggle;\n    },\n    pushToFeed: function pushToFeed(element) {\n      this.feed.push(element);\n    },\n    onNewOwnMessage: function onNewOwnMessage(message, image, imageUrl) {\n      var newOwnMessage = {\n        id: this.authorId,\n        contents: message,\n        image: image,\n        imageUrl: imageUrl,\n        date: moment().format('HH:mm:ss')\n      };\n      this.pushToFeed(newOwnMessage);\n      scrollToBottom();\n      this.$emit('newOwnMessage', message);\n    },\n    onOpenEmojiPicker: function onOpenEmojiPicker(toggle) {\n      this.setEmojiPickerToggle(toggle);\n    }\n  }\n};",{"version":3,"sources":["BasicVueChat.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div\n    class=\"basic-vue-chat\"\n    @click=\"setEmojiPickerToggle(false)\">\n    <section class=\"window\">\n      <header class=\"window__header__container\">\n        <slot name=\"header\">\n          {{ title }}\n        </slot>\n      </header>\n      <section\n        id=\"window__messages__container\"\n        class=\"window__messages__container\">\n        <slot>\n          <messages-list\n            :feed=\"feed\"\n            :author-id=\"authorId\"\n            class=\"messages-list\" />\n        </slot>\n      </section>\n      <div class=\"window__input__container\">\n        <slot name=\"input-container\">\n          <input-container\n            :toggle-emoji-picker=\"toggleEmojiPicker\"\n            @newOwnMessage=\"onNewOwnMessage\"\n            @openEmojiPicker=\"onOpenEmojiPicker\"\n          />\n        </slot>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport moment from 'moment'\nimport { scrollToBottom } from '../../helpers/scroll.js'\nimport MessagesList from './messages/MessagesList.vue'\nimport InputContainer from './input/InputContainer.vue'\n\nexport default {\n  name: 'BasicVueChat',\n  components: {\n    MessagesList,\n    InputContainer\n  },\n  props: {\n    title: {\n      type: String,\n      default: 'Team Maczan',\n      required: false\n    },\n    initialAuthorId: {\n      type: Number,\n      default: 0,\n      required: false\n    },\n    attachMock: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    initialFeed: {\n      type: Array,\n      default: function () {\n        return []\n      },\n      required: false\n    },\n    newMessage: {\n      type: Object,\n      default: function () {\n        return {}\n      },\n      required: false\n    }\n  },\n  data: function () {\n    return {\n      feed: [],\n      authorId: 0,\n      toggleEmojiPicker: false\n    }\n  },\n  watch: {\n    newMessage: function (newValue, oldValue) {\n      this.pushToFeed(newValue)\n      scrollToBottom()\n    }\n  },\n  mounted () {\n    if (this.attachMock) {\n      import('./mocks/mock-messages-list.js')\n        .then(mockData => {\n          this.feed = mockData.default.feed\n          this.setAuthorId(mockData.default.authorId)\n        })\n        .catch(error => {\n          console.error('Failed to load mock data from file. ', error)\n        })\n    } else {\n      this.feed = this.initialFeed\n      this.authorId = this.initialAuthorId\n    }\n  },\n  methods: {\n    setEmojiPickerToggle (toggle) {\n      this.toggleEmojiPicker = toggle\n    },\n    pushToFeed (element) {\n      this.feed.push(element)\n    },\n    onNewOwnMessage (message, image, imageUrl) {\n      const newOwnMessage = {\n        id: this.authorId,\n        contents: message,\n        image: image,\n        imageUrl: imageUrl,\n        date: moment().format('HH:mm:ss')\n      }\n\n      this.pushToFeed(newOwnMessage)\n\n      scrollToBottom()\n\n      this.$emit('newOwnMessage', message)\n    },\n    onOpenEmojiPicker (toggle) {\n      this.setEmojiPickerToggle(toggle)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../../assets/scss/main.scss\";\n</style>\n"],"sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat"}]}