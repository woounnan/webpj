{"remainingRequest":"/work/webpj/front/node_modules/babel-loader/lib/index.js!/work/webpj/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue","mtime":1585582181076},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1585582181044},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1585582181108},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1585582184324}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport InputField from \"./InputField.vue\";\nimport InputButton from \"./InputButton.vue\";\nimport { Picker } from 'emoji-mart-vue';\nimport Work from \"./Work.vue\";\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField: InputField,\n    InputButton: InputButton,\n    Picker: Picker,\n    Work: Work\n  },\n  props: {\n    sel: '',\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    notice: {\n      type: Boolean,\n      default: false,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      dial_work: false,\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$store.state.bus.$on('closeWork', function (data) {\n      console.log('closeWork!!!');\n      _this.dial_work = false;\n    });\n  },\n  methods: {\n    regWork: function regWork() {\n      this.$store.state.bus.$emit('openWork');\n      console.log('call regWork');\n      this.notice = false;\n    },\n    regNotice: function regNotice() {\n      console.log('call regNotice');\n      this.$store.state.bus.$emit('openWork');\n      this.notice = true;\n    },\n    onNewOwnMessage: function onNewOwnMessage() {\n      console.log('notice ::: InputContainer::::', this.notice);\n\n      if ((!this.message || this.message === '') && !this.file) {\n        return;\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview);\n      this.message = '';\n      this.file = undefined;\n      this.imagePreview = '';\n    },\n    handleFileUpload: function handleFileUpload() {\n      this.file = this.$refs.image.files[0];\n      var reader = new FileReader();\n      reader.addEventListener('load', function () {\n        this.imagePreview = reader.result;\n      }.bind(this), false);\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file);\n        }\n      }\n    },\n    openEmojiPicker: function openEmojiPicker() {\n      this.$emit('openEmojiPicker', true);\n    },\n    emojiPicked: function emojiPicked(emoji) {\n      this.message += emoji.native;\n    }\n  }\n};",{"version":3,"sources":["InputContainer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"input__container\">\n    <img\n      v-show=\"file\"\n      :src=\"imagePreview\"\n      class=\"image--uploaded\">\n    <slot name=\"input-field\">\n      <input-field\n        v-model=\"message\"\n        @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n    <div class=\"features__container\">\n      <div class=\"input-images-upload\">\n        <div\n          id=\"image\"\n          ref=\"image\"\n          type=\"file\"\n          class=\"image\"\n          accept=\"image/*\"\n          @change=\"handleFileUpload()\">\n          <label for=\"image\">\n            <font-awesome-icon icon=\"paperclip\" />\n          </label>\n        </div>\n      </div>\n      <div class=\"input-images-upload input-emoji-picker__icon\">\n        <div\n          id=\"emoji\"\n          @click=\"openEmojiPicker\">\n          <label for=\"emoji\">\n            <font-awesome-icon icon=\"smile\" />\n          </label>\n        </div>\n      </div>\n      <div\n        :class=\"{ visible: !toggleEmojiPicker }\"\n        class=\"input-emoji-picker__container\">\n        <picker\n          :show-preview=\"false\"\n          :show-skin-tones=\"false\"\n          :show-categories=\"false\"\n          :show-search=\"false\"\n          native\n          @select=\"emojiPicked\" />\n      </div>\n      <slot name=\"features\" />\n      <v-menu top offset-y>\n        <template v-slot:activator=\"{ on: menu }\">\n          <v-icon v-on=\"menu\">control_point</v-icon>&nbsp;\n        </template>\n        <v-btn>\n          <v-dialog style=\"width: 100%\"v-model=\"dial_work\">\n            <template v-slot:activator=\"{on:dialog}\"> \n            <v-icon v-on=\"dialog\" @click=\"regWork\">work</v-icon>\n            <v-icon v-on=\"dialog\" @click=\"regNotice\">notification_important</v-icon> \n          </template>\n          <Work :sel=\"sel\" :notice=\"notice\" />\n          </v-dialog>\n        </v-btn>\n      </v-menu>\n    </div>\n    <slot name=\"input-button\">\n      <input-button @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport InputField from './InputField.vue'\nimport InputButton from './InputButton.vue'\nimport { Picker } from 'emoji-mart-vue'\nimport Work from './Work.vue'\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField,\n    InputButton,\n    Picker,\n    Work,\n  },\n  props: {\n    sel: '',\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    notice: {\n      type: Boolean,\n      default: false,\n      required: true\n    },\n  },\n  data: function () {\n    return {\n      dial_work: false,\n      message: '',\n      file: undefined,\n      imagePreview: '', \n    }\n  },\n  mounted(){\n    this.$store.state.bus.$on('closeWork', data =>{\n      console.log('closeWork!!!')\n      this.dial_work = false\n    })\n  },\n  methods: {\n    regWork(){\n      this.$store.state.bus.$emit('openWork')\n      console.log('call regWork')\n      this.notice = false\n    },\n    regNotice(){\n      console.log('call regNotice')\n      this.$store.state.bus.$emit('openWork')\n      this.notice = true\n\n    },\n    onNewOwnMessage () {\n      console.log('notice ::: InputContainer::::', this.notice)\n      if ((!this.message || this.message === '') && !this.file) {\n        return\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview)\n\n      this.message = ''\n\n      this.file = undefined\n\n      this.imagePreview = ''\n    },\n    handleFileUpload () {\n      this.file = this.$refs.image.files[0]\n      let reader = new FileReader()\n\n      reader.addEventListener(\n        'load',\n        function () {\n          this.imagePreview = reader.result\n        }.bind(this),\n        false\n      )\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n    openEmojiPicker () {\n      this.$emit('openEmojiPicker', true)\n    },\n    emojiPicked (emoji) {\n      this.message += emoji.native\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.visible {\n  display: none;\n}\n</style>\n"],"sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat/input"}]}