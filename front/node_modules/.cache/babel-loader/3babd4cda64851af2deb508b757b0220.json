{"remainingRequest":"/work/webpj/front/node_modules/babel-loader/lib/index.js!/work/webpj/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/work/webpj/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/work/webpj/front/node_modules/basic-vue-chat/src/components/basic-vue-chat/input/InputContainer.vue","mtime":1568715761644},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1567249389119},{"path":"/work/webpj/front/node_modules/babel-loader/lib/index.js","mtime":1567249384720},{"path":"/work/webpj/front/node_modules/cache-loader/dist/cjs.js","mtime":1567249389119},{"path":"/work/webpj/front/node_modules/vue-loader/lib/index.js","mtime":1567249389844}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport InputField from \"./InputField.vue\";\nimport InputButton from \"./InputButton.vue\";\nimport { Picker } from 'emoji-mart-vue';\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField: InputField,\n    InputButton: InputButton,\n    Picker: Picker\n  },\n  props: {\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  data: function data() {\n    return {\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    };\n  },\n  methods: {\n    onNewOwnMessage: function onNewOwnMessage() {\n      if ((!this.message || this.message === '') && !this.file) {\n        return;\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview);\n      this.message = '';\n      this.file = undefined;\n      this.imagePreview = '';\n    },\n    handleFileUpload: function handleFileUpload() {\n      this.file = this.$refs.image.files[0];\n      var reader = new FileReader();\n      reader.addEventListener('load', function () {\n        this.imagePreview = reader.result;\n      }.bind(this), false);\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file);\n        }\n      }\n    },\n    openEmojiPicker: function openEmojiPicker() {\n      this.$emit('openEmojiPicker', true);\n    },\n    emojiPicked: function emojiPicked(emoji) {\n      this.message += emoji.native;\n    }\n  }\n};",{"version":3,"sources":["InputContainer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,UAAA;AACA,OAAA,WAAA;AACA,SAAA,MAAA,QAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,WAAA,EAAA,WAFA;AAGA,IAAA,MAAA,EAAA;AAHA,GAFA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA;AAHA;AADA,GAPA;AAcA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,SAFA;AAGA,MAAA,YAAA,EAAA;AAHA,KAAA;AAKA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,CAAA,CAAA,KAAA,OAAA,IAAA,KAAA,OAAA,KAAA,EAAA,KAAA,CAAA,KAAA,IAAA,EAAA;AACA;AACA;;AAEA,WAAA,KAAA,CAAA,eAAA,EAAA,KAAA,OAAA,EAAA,KAAA,IAAA,EAAA,KAAA,YAAA;AAEA,WAAA,OAAA,GAAA,EAAA;AAEA,WAAA,IAAA,GAAA,SAAA;AAEA,WAAA,YAAA,GAAA,EAAA;AACA,KAbA;AAcA,IAAA,gBAdA,8BAcA;AACA,WAAA,IAAA,GAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AAEA,MAAA,MAAA,CAAA,gBAAA,CACA,MADA,EAEA,YAAA;AACA,aAAA,YAAA,GAAA,MAAA,CAAA,MAAA;AACA,OAFA,CAEA,IAFA,CAEA,IAFA,CAFA,EAKA,KALA;;AAQA,UAAA,KAAA,IAAA,EAAA;AACA,YAAA,sBAAA,IAAA,CAAA,KAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,aAAA,CAAA,KAAA,IAAA;AACA;AACA;AACA,KA/BA;AAgCA,IAAA,eAhCA,6BAgCA;AACA,WAAA,KAAA,CAAA,iBAAA,EAAA,IAAA;AACA,KAlCA;AAmCA,IAAA,WAnCA,uBAmCA,KAnCA,EAmCA;AACA,WAAA,OAAA,IAAA,KAAA,CAAA,MAAA;AACA;AArCA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"input__container\">\n    <img\n      v-show=\"file\"\n      :src=\"imagePreview\"\n      class=\"image--uploaded\">\n    <slot name=\"input-field\">\n      <input-field\n        v-model=\"message\"\n        @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n    <div class=\"features__container\">\n      <div class=\"input-images-upload\">\n        <div\n          id=\"image\"\n          ref=\"image\"\n          type=\"file\"\n          class=\"image\"\n          accept=\"image/*\"\n          @change=\"handleFileUpload()\">\n          <label for=\"image\">\n            <font-awesome-icon icon=\"paperclip\" />\n          </label>\n        </div>\n      </div>\n      <div class=\"input-images-upload input-emoji-picker__icon\">\n        <div\n          id=\"emoji\"\n          @click=\"openEmojiPicker\">\n          <label for=\"emoji\">\n            <font-awesome-icon icon=\"smile\" />\n          </label>\n        </div>\n      </div>\n      <div\n        :class=\"{ visible: !toggleEmojiPicker }\"\n        class=\"input-emoji-picker__container\">\n        <picker\n          :show-preview=\"false\"\n          :show-skin-tones=\"false\"\n          :show-categories=\"false\"\n          :show-search=\"false\"\n          native\n          @select=\"emojiPicked\" />\n      </div>\n      <slot name=\"features\" />\n    </div>\n    <slot name=\"input-button\">\n      <input-button @newOwnMessage=\"onNewOwnMessage\" />\n    </slot>\n  </div>\n</template>\n\n<script>\nimport InputField from './InputField.vue'\nimport InputButton from './InputButton.vue'\nimport { Picker } from 'emoji-mart-vue'\n\nexport default {\n  name: 'InputContainer',\n  components: {\n    InputField,\n    InputButton,\n    Picker\n  },\n  props: {\n    toggleEmojiPicker: {\n      type: Boolean,\n      default: false,\n      required: false\n    }\n  },\n  data: function () {\n    return {\n      message: '',\n      file: undefined,\n      imagePreview: ''\n    }\n  },\n  methods: {\n    onNewOwnMessage () {\n      if ((!this.message || this.message === '') && !this.file) {\n        return\n      }\n\n      this.$emit('newOwnMessage', this.message, this.file, this.imagePreview)\n\n      this.message = ''\n\n      this.file = undefined\n\n      this.imagePreview = ''\n    },\n    handleFileUpload () {\n      this.file = this.$refs.image.files[0]\n      let reader = new FileReader()\n\n      reader.addEventListener(\n        'load',\n        function () {\n          this.imagePreview = reader.result\n        }.bind(this),\n        false\n      )\n\n      if (this.file) {\n        if (/\\.(jpe?g|png|gif)$/i.test(this.file.name)) {\n          reader.readAsDataURL(this.file)\n        }\n      }\n    },\n    openEmojiPicker () {\n      this.$emit('openEmojiPicker', true)\n    },\n    emojiPicked (emoji) {\n      this.message += emoji.native\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.visible {\n  display: none;\n}\n</style>\n"],"sourceRoot":"node_modules/basic-vue-chat/src/components/basic-vue-chat/input"}]}